{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/Assignnment/src/Exitpage.js\",\n    _s = $RefreshSig$();\n\nimport * as React from \"react\";\nimport toastr from 'toastr';\nimport 'toastr/build/toastr.min.css';\nimport PropTypes from \"prop-types\";\nimport Button from \"@mui/material/Button\";\nimport { styled } from \"@mui/material/styles\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport IconButton from \"@mui/material/IconButton\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport Typography from \"@mui/material/Typography\";\nimport { useDispatch } from \"react-redux\";\nimport { exitbookingAction } from './actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BootstrapDialog = styled(Dialog)(({\n  theme\n}) => ({\n  \"& .MuiDialogContent-root\": {\n    padding: theme.spacing(2)\n  },\n  \"& .MuiDialogActions-root\": {\n    padding: theme.spacing(1)\n  }\n}));\n\nconst BootstrapDialogTitle = props => {\n  const {\n    children,\n    onClose,\n    ...other\n  } = props;\n  return /*#__PURE__*/_jsxDEV(DialogTitle, {\n    sx: {\n      m: 0,\n      p: 2\n    },\n    ...other,\n    children: [children, onClose ? /*#__PURE__*/_jsxDEV(IconButton, {\n      variant: \"contained\",\n      \"aria-label\": \"close\",\n      onClick: onClose,\n      sx: {\n        position: \"absolute\",\n        right: 8,\n        top: 8,\n        color: theme => theme.palette.grey[500]\n      },\n      children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n\n_c = BootstrapDialogTitle;\nBootstrapDialogTitle.propTypes = {\n  children: PropTypes.node,\n  onClose: PropTypes.func.isRequired\n};\nexport default function Exitpage(exitInfo) {\n  _s();\n\n  const dispatch = useDispatch();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const Paybutton = () => {\n    let value = {\n      \"car-registration\": \"TU68 0BB\",\n      \"charge\": 20\n    };\n    fetch('https://httpstat.us/200', {\n      method: 'POST',\n      mode: 'cors',\n      cache: 'no-cache',\n      credentials: 'same-origin',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      redirect: 'follow',\n      referrerPolicy: 'no-referrer',\n      body: JSON.stringify(value)\n    }).then(data => {\n      toastr.options = {\n        positionClass: 'toast-top-full-width',\n        hideDuration: 300,\n        timeOut: 1000\n      };\n      setTimeout(() => toastr.success(`Payment Success `), 10);\n      console.log(data);\n      dispatch(exitbookingAction(exitInfo.slotInfo));\n      setOpen(false);\n    }); //alert(\"payment Done\");\n  };\n\n  let current = new Date();\n  let entryTime = exitInfo.slotInfo.entry_time.replace(\":\", \".\");\n  let exitTime = current.getHours() + \".\" + current.getMinutes();\n  let totalParkedTime = Math.ceil(Number(exitTime - entryTime));\n  let totalCharge = 0;\n\n  if (totalParkedTime <= 2) {\n    totalCharge = 10;\n  } else if (totalParkedTime > 2) {\n    totalCharge = (totalParkedTime - 2) * 10 + 10;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      onClick: handleClickOpen,\n      children: \"Exit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BootstrapDialog, {\n      onClose: open,\n      \"aria-labelledby\": \"customized-dialog-title\",\n      open: open,\n      children: [/*#__PURE__*/_jsxDEV(BootstrapDialogTitle, {\n        id: \"customized-dialog-title\",\n        onClose: handleClose,\n        children: \"Payment Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        dividers: true,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          align: \"center\",\n          component: \"h6\",\n          style: {\n            padding: 16\n          },\n          children: [\"Registration Number: \", exitInfo.slotInfo.vehicle_number]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          align: \"center\",\n          component: \"h6\",\n          style: {\n            padding: 16\n          },\n          children: [\"Total Charge: \", totalCharge, \" $\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          autoFocus: true,\n          onClick: Paybutton,\n          children: \"Pay\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Exitpage, \"iCl63mlFz6hVVtETaxFjniB5Y4k=\", false, function () {\n  return [useDispatch];\n});\n\n_c2 = Exitpage;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"BootstrapDialogTitle\");\n$RefreshReg$(_c2, \"Exitpage\");","map":{"version":3,"sources":["/home/user/Desktop/Assignnment/src/Exitpage.js"],"names":["React","toastr","PropTypes","Button","styled","Dialog","DialogTitle","DialogContent","DialogActions","IconButton","CloseIcon","Typography","useDispatch","exitbookingAction","BootstrapDialog","theme","padding","spacing","BootstrapDialogTitle","props","children","onClose","other","m","p","position","right","top","color","palette","grey","propTypes","node","func","isRequired","Exitpage","exitInfo","dispatch","open","setOpen","useState","handleClickOpen","handleClose","Paybutton","value","fetch","method","mode","cache","credentials","headers","redirect","referrerPolicy","body","JSON","stringify","then","data","options","positionClass","hideDuration","timeOut","setTimeout","success","console","log","slotInfo","current","Date","entryTime","entry_time","replace","exitTime","getHours","getMinutes","totalParkedTime","Math","ceil","Number","totalCharge","vehicle_number"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport toastr from 'toastr'\nimport 'toastr/build/toastr.min.css'\nimport PropTypes from \"prop-types\";\nimport Button from \"@mui/material/Button\";\nimport { styled } from \"@mui/material/styles\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport IconButton from \"@mui/material/IconButton\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport Typography from \"@mui/material/Typography\";\n\nimport {  useDispatch } from \"react-redux\";\n\nimport {\n  exitbookingAction,\n} from './actions';\nconst BootstrapDialog = styled(Dialog)(({ theme }) => ({\n  \"& .MuiDialogContent-root\": {\n    padding: theme.spacing(2),\n  },\n  \"& .MuiDialogActions-root\": {\n    padding: theme.spacing(1),\n  },\n}));\n\nconst BootstrapDialogTitle = (props) => {\n  const { children, onClose, ...other } = props;\n\n  return (\n    <DialogTitle sx={{ m: 0, p: 2 }} {...other}>\n      {children}\n      {onClose ? (\n        <IconButton\n          variant=\"contained\"\n          aria-label=\"close\"\n          onClick={onClose}\n          sx={{\n            position: \"absolute\",\n            right: 8,\n            top: 8,\n            color: (theme) => theme.palette.grey[500],\n          }}\n        >\n          <CloseIcon />\n        </IconButton>\n      ) : null}\n    </DialogTitle>\n  );\n};\n\nBootstrapDialogTitle.propTypes = {\n  children: PropTypes.node,\n  onClose: PropTypes.func.isRequired,\n};\n\n\nexport default function Exitpage(exitInfo) {\n  const dispatch = useDispatch();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const Paybutton = () => {\n    \n  \n    let value ={\n      \"car-registration\":\"TU68 0BB\",\"charge\":20\n    }\n  fetch('https://httpstat.us/200',{\n    method: 'POST', \n    mode: 'cors', \n    cache: 'no-cache',\n    credentials: 'same-origin', \n    headers: {\n      'Content-Type': 'application/json'\n    },\n    redirect: 'follow', \n    referrerPolicy: 'no-referrer', \n    body: JSON.stringify(value) \n  })\n  .then(data =>{\n    toastr.options = {\n      positionClass : 'toast-top-full-width',\n      hideDuration: 300,\n      timeOut: 1000\n    }\n    setTimeout(() => toastr.success(`Payment Success `), 10)\n    console.log(data)\n    dispatch(exitbookingAction(exitInfo.slotInfo))\n    setOpen(false);\n  }\n    \n    );\n\n    //alert(\"payment Done\");\n  };\n\n  let current = new Date();\n  let entryTime = exitInfo.slotInfo.entry_time.replace(\":\", \".\");\n  let exitTime = current.getHours() + \".\" + current.getMinutes();\n  let totalParkedTime = Math.ceil(Number(exitTime - entryTime));\n\n  let totalCharge = 0;\n  if (totalParkedTime <= 2) {\n    totalCharge = 10;\n  } else if (totalParkedTime > 2) {\n    totalCharge = (totalParkedTime - 2) * 10 + 10;\n  }\n \n  return (\n    <div>\n      <Button variant=\"contained\" onClick={handleClickOpen}>\n        Exit\n      </Button>\n      <BootstrapDialog\n        onClose={open}\n        aria-labelledby=\"customized-dialog-title\"\n        open={open}\n      >\n        <BootstrapDialogTitle\n          id=\"customized-dialog-title\"\n          onClose={handleClose}\n        >\n          Payment Details\n        </BootstrapDialogTitle>\n        <DialogContent dividers>\n          <Typography\n            variant=\"h4\"\n            align=\"center\"\n            component=\"h6\"\n            style={{ padding: 16 }}\n          >\n            Registration Number: {exitInfo.slotInfo.vehicle_number}\n          </Typography>\n          <Typography\n            variant=\"h4\"\n            align=\"center\"\n            component=\"h6\"\n            style={{ padding: 16 }}\n          >\n            Total Charge: {totalCharge} $\n          </Typography>\n        </DialogContent>\n        <DialogActions>\n          <Button autoFocus onClick={Paybutton}>\n            Pay\n          </Button>\n        </DialogActions>\n      </BootstrapDialog>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}